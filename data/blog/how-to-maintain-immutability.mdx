---
title: How to Maintain Immutability
date: '2024-01-30'
tags: ['JavaScript', 'interview']
draft: false
summary: 불변성을 유지하는 법
---

자바스크립트에서 불변성(Immutability)을 유지하는 것은 상태 관리를 더 예측 가능하게 만들고, 버그를 줄이는 데 도움이 된다. 불변성을 유지한다는 것은 한 번 생성된 데이터를 직접 변경하지 않는다는 의미다. 대신, 데이터의 변경이 필요한 경우 원본 데이터를 수정하지 않고 변경된 새로운 데이터 복사본을 생성한다. 여기 몇 가지 방법이 있다:

### 1. 원시 데이터 타입
원시 데이터 타입(문자열, 숫자, 불리언 등)은 기본적으로 불변성을 가진다. 이들은 직접 변경될 수 없으며, 값을 변경하려면 새로운 값을 재할당해야 한다.

### 2. 객체와 배열의 불변성
객체와 배열은 변경 가능한 데이터 타입이기 때문에, 불변성을 유지하기 위해 특별한 처리가 필요하다.

- **객체의 경우:**
  - **Object.assign()**을 사용하여 객체를 복사하고 새로운 속성을 추가하거나 변경할 수 있다.
    ```javascript
    const original = { a: 1, b: 2 };
    const copy = Object.assign({}, original, { c: 3 }); // { a: 1, b: 2, c: 3 }
    ```
  - **Spread 연산자(...)**를 사용하는 것이 더 간단한 방법이다.
    ```javascript
    const copy = { ...original, c: 3 };
    ```

- **배열의 경우:**
  - **concat()**, **slice()**, **spread 연산자(...)** 등을 사용하여 원본 배열을 변경하지 않고 새로운 배열을 생성할 수 있다.
    ```javascript
    const originalArray = [1, 2, 3];
    const newArray = originalArray.concat([4]); // [1, 2, 3, 4]
    // 또는
    const newArray = [...originalArray, 4]; // [1, 2, 3, 4]
    ```

### 3. 불변성을 유지하는 라이브러리 사용
데이터의 불변성을 쉽게 관리할 수 있도록 도와주는 라이브러리를 사용할 수 있다.

- **Immutable.js:** 페이스북에서 제공하는 불변 데이터 구조를 위한 라이브러리다.
- **Immer:** 현대적 자바스크립트의 불변성을 쉽게 관리할 수 있게 해주며, 복잡한 객체나 배열도 쉽게 다룰 수 있다.

### 4. 함수형 프로그래밍 기법 사용
함수형 프로그래밍은 불변성을 중시한다. 순수 함수를 사용하고, 데이터를 직접 변경하는 대신 새로운 데이터를 반환하는 방식으로 프로그래밍하는 것이 좋다.

### 결론
자바스크립트에서 불변성을 유지하는 것은 애플리케이션의 복잡성을 관리하고, 예측 가능한 코드를 작성하는 데 중요하다. 이를 위해 객체와 배열을 불변하게 다루는 방법을 익히고, 필요한 경우 불변성을 돕는 라이브러리를 활용하는 것이 좋다.