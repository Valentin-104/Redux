---
title: Closure
date: '2024-01-20'
tags: ['JavaScript', 'interview']
draft: false
summary: 클로저
---

클로저(Closure)는 함수와 그 함수가 선언될 당시의 렉시컬 환경(Lexical Environment)과의 조합을 의미한다. 이는 자바스크립트를 포함한 많은 프로그래밍 언어에서 발견되는 중요한 개념이다. 이를 통해 함수가 자신이 생성될 때의 환경을 "기억"하고, 이 환경 외부에서 호출되어도 해당 환경에 접근할 수 있게 된다.

**클로저의 작동 원리**

클로저는 다음과 같은 상황에서 생성된다:

1. **내부 함수**: 어떤 함수 내부에서 다른 함수가 선언되었을 때, 내부 함수는 외부 함수의 지역 변수에 접근할 수 있다.
2. **외부 함수의 반환**: 외부 함수가 내부 함수를 반환하고 종료될 때, 보통 외부 함수의 실행 컨텍스트는 사라지고 지역 변수들은 가비지 컬렉션의 대상이 된다. 하지만, 내부 함수가 외부 함수의 지역 변수에 접근하고 있으면, 이 지역 변수들은 여전히 살아 있게 된다. 이때 내부 함수와 외부 함수의 지역 변수들의 조합을 클로저라고 한다.

**예제**
```js
function makeCounter() {
    let count = 0; // `makeCounter`의 지역 변수 `count`

    return function() {
        return count++; // 내부 함수가 외부 함수의 지역 변수 `count`를 참조
    };
}

const counter = makeCounter(); // `counter`는 클로저를 참조
console.log(counter()); // 0
console.log(counter()); // 1
```

이처럼 클로저를 통해 `count` 변수는 외부에서 직접 접근할 수 없으면서도, `counter` 함수를 통해 간접적으로 조작할 수 있다.